{% extends "base.html.twig" %}

{% block body %}


    


        {# {{ form_start(formFilter)}}
                
                    {{form_row(formFilter)}}

                        <input class="btn btn-primary" type="submit" value="Rechercher">
                    {{ form_end(formFilter)}} #}

                    <!-- Button trigger modal -->




<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
  Filtres
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
        
        <div class="modal-content">
            {{ form_start(formFilter)}}
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Filtres</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    {{ form_row(formFilter.recherche)}} 
                    {{ form_row(formFilter.min)}}
                    {{ form_row(formFilter.max)}}
                    {{ form_row(formFilter.categorie)}}
                    {{ form_row(formFilter.marque)}}
                    {{ form_row(formFilter.model)}}
                    {{ form_row(formFilter.couleur)}}
                    {{ form_row(formFilter.order)}}    
                </div>
                <div class="modal-body">
                    <input type="submit" value="Rechercher">
                </div>
            {{ form_end(formFilter)}}
        </div>
  </div>
</div>


    <div class="container w-75 mx-auto d-flex gap-3 mt-5">

        

        {# <div class="filter  border">
    
        </div> #}

        <div class="vehicules">
            {% for vehicule in vehicules %}
                <div class="cart d-flex align-items-center flex-column justify-content-between">
                    <div class="image w-100 h-50">
                        {% if vehicule.image|length > 0 %}
                            
                            <img class="img" src="{{ asset('images/upload/' ~ vehicule.image[0].nomImg) }}" alt="">

                        {% else %}
                            <img class="img" src="{{ asset('images/index.png') }}" alt=""> 
                            
                        {% endif %}
                    </div>
                    <div class="info text-center">
                        
                        <h5>Description : <span>{{vehicule.description}}</span></h5>
                        <h5>Categorie : <span>{{vehicule.categorie.nom}}</span></h5>
                        <h5>Prix :
                            {% if vehicule.prix %}
                                <span>{{vehicule.prix}} â‚¬ / j</span>
                            {% else %}
                                N.R
                            {% endif %}
                            
                        </h5>
                        {# <h5>Categorie: <span>{{vehicule.model}}</span></h5>
                        <h5>Categorie: <span>{{vehicule.marque}}</span></h5> #}
                        {# <h5>{{vehicule.type}}</h5>
                        <h5>{{vehicule.typemoteur}}</h5>     #}
                    </div>

                    <hr>
                    <a class="btn btn-secondary mx-auto w-50" href="{{path("app_vehicule_detail",{'id': vehicule.id})}}">Voir</a>
                </div>
            {% endfor %}
        </div>

    </div>





{% endblock %}